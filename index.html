<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tranformer Designer</title>
  <script src="https://cdn.jsdelivr.net/npm/p5@1.3.1/lib/p5.min.js"></script>
  <script src="main.js"></script>
  <link rel="stylesheet" href="main.css"></link>
</head>
<body>
  <h1>Welcome to my Transformer Designer Page</h1>
  <h3>Applicable to EI or Toroid Tranformer</h3>
  <table>
    <tr><th>Select Unit of Measurement</th></tr>
    <tr>
      <td>Unit of measurement</td>
      <td>
        <select id="unit" value="mm" onchange="recalc()">
          <option value="mm">mm</option>
          <option value="cm">cm</option>
          <option value="in">in</option>
        </select>
      </td>
    </tr>
    <tr><th>Iron Properties</th></tr>
    <tr>
      <td><label>Core's center leg width</label></td>
      <td><input type="number" id="leg" step="0.01" value=25.4 min=0.1 max=25400></td>
    </tr>
    <tr>
      <td><label>Core's laminate stacking thickness</label></td>
      <td><input type="number" id="thick" step="0.01" value=25.4 min=0.1 max=25400></td>
    </tr>
    <tr>
      <td><label><div class="tooltip">Core's iron maximum flux density (Tesla)
        <span class="tooltiptext">The maximum flux density plays an important role in the transformer.
        It specifies the limit where the iron core starts to saturate. When the core saturates, it
        becomes ineffective because it can no longer generate additional magnetic flux.</span>
        </div></label></td>
      <td><input type="number" id="flux" step="0.1" value=0.6 min=0.1 max=5.0></td>
    </tr>
    <tr><th>Voltage And Frequency Specifications</th></tr>
    <tr>
      <td><label>Primary voltage (Volts)</label></td>
      <td><input type="number" id="pri-v" step="0.1" value=230 min=1 max=10000></td>
    </tr>
    <tr>
      <td><label>Secondary voltage (Volts)</label></td>
      <td><input type="number" id="sec-v" step="0.1" value=35  min=1 max=10000></td>
    </tr>
    <tr>
      <td><label>Line Frequency (Hertz)</label></td>
      <td><input type="number" id="freq" value=60 min=1 max=1000000000></td>
    </tr>
    <tr>
      <td><label><div class="tooltip">Wave Shape
        <span class="tooltiptext">For mains supply, shape is sine wave, but SMPS transformer, 
          this is usually a square wave.</span>
        </div></label></td>
      <td>
        <select id="shape" value="sine">
          <option value="sine">sine wave</option>
          <option value="square">square wave</option>
        </select>
      </td>
    </tr>
    <tr><th>Stacking Factors</th></tr>
    <tr>
      <td><label><div class="tooltip">Stacking Factor (%)
        <span class="tooltiptext">For laminated core, stacking factor is the amount of gap 
          between the laminate stackings expressed in percentage, default is 10%. For ferrite core or 
          iron powder core, since it has no laminates, this is 0.</span></div></label></td>
      <td><input type="number" id="stacking" value="10" min=0 max=100></td>
    </tr>
    <tr>
      <td><button id="calc" onclick="calculate()">Calculate</button></td>
    </tr>
    <tr>
      <td><label>Calculated number of turns - primary</label></td>
      <td><input type="text" id="pri-n" disabled></td>
    </tr>
    <tr>
      <td><label>Calculated number of turns - secondary</label></td>
      <td><input type="text" id="sec-n" disabled></td>
    </tr>
    </table>  
</body>
</html>
